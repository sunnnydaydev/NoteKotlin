# å†…è”ç±»

å…¶ä»–ç±»çš„åŒ…è£…ç±»å«åšå†…è”ç±»ã€‚ä¸ºäº†è§£å†³åŒ…è£…ç±»æ€§èƒ½å¼€é”€kotlin1.3å¼•å…¥äº†å†…è”ç±»çš„æ¦‚å¿µã€‚

###### 1ã€å†…è”ç±»çš„å®šä¹‰

```kotlin
// è€ç‰ˆæœ¬å®šä¹‰æ–¹å¼
inline class Password(val value: String)

//æ–°ç‰ˆæœ¬å®šä¹‰æ–¹å¼
@JvmInline
value class Password(val value: String)
```

- ä½¿ç”¨@JvmInline+valueå…³é”®å­—æ¥å®šä¹‰å†…è”ç±»
- è¿™é‡Œæˆå‘˜å­—æ®µvalueå°±æ˜¯è¢«åŒ…è£…çš„ç±»

###### 2ã€å†…è”ç±»çš„æ³¨æ„ç‚¹

- ä¸»æ„é€ å™¨åªèƒ½æœ‰ä¸€ä¸ªå‚æ•°ï¼Œä¸å­˜åœ¨å†…è”ç±»çš„å¯¹è±¡
- å†…è”ç±»ä¸èƒ½è¢«ç»§æ‰¿ï¼Œä½†å¯å®ç°æ¥å£
- å†…è”ç±»ä¸èƒ½å«æœ‰ init ä»£ç å—
- å†…è”ç±»ä¸èƒ½å«æœ‰å¹•åå­—æ®µ(å†…è”ç±»ä¸èƒ½å«æœ‰å»¶è¿Ÿåˆå§‹åŒ–/å§”æ‰˜å±æ€§)

###### 3ã€æºç ğŸŒ°åˆ†æ

```kotlin
/**
 * Create by SunnyDay 2023/10/10 21:08:33
 **/
fun main() {
   val password = Password("12345678Aa")
    println("password-value:${password.value}")
    password.yourLength()
}


class Test()

@JvmInline
value class Password(val value: String){
    init {
        println("value:${value}")
    }
    val length:Int get()   = value.length
    fun yourLength(){
        println("yourLength -> password-value-length:${length}")
    }
}
```

çœ‹çœ‹ç¼–è¯‘åçš„ä»£ç æ˜¯å•¥æ ·çš„ï¼ŒğŸ‘‡ğŸ»ä»£ç æ‰‹åŠ¨æ•´ç†äº†ä¸‹ ->

```java
public class InlineClassDemoKt {
    public static final void main() {
        // æ³¨é‡Š1
        String password = Password.constructor-impl("12345678Aa");
        String var1 = "password-value:" + password;
        System.out.println(var1);
        // æ³¨é‡Š2
        Password.yourLength-impl(password);
    }

    public static void main(String[] var0) {
        main();
    }

    public final class Password {

        @NotNull
        private final String value;

        @NotNull
        public final String getValue() {
            return this.value;
        }

        private Password(String value) {
            Intrinsics.checkNotNullParameter(value, "value");
            super();
            this.value = value;
        }

        /**
         * 1ã€åˆ›å»ºå†…è”ç±»å¯¹è±¡æ—¶ï¼Œä¼šæ‰§è¡Œè¿™æ®µä»£ç çš„è°ƒç”¨ã€‚è¿”å›çš„æ˜¯è¢«åŒ…è£…ç±»çš„å¯¹è±¡
         */
        @NotNull
        public static String constructor_impl(@NotNull String value) {
            Intrinsics.checkNotNullParameter(value, "value");
            String var1 = "value:" + value;
            System.out.println(var1);
            return value;
        }

        /**
         * 2ã€å†…è”ç±»çš„æ™®é€šæˆå‘˜ï¼ˆéä¸»æ„é€ å‡½æ•°ä¸­çš„ï¼‰ä¼šè¢«ç¼–è¯‘ä¸ºé™æ€æˆå‘˜
         * è°ƒç”¨æ—¶å°±æ˜¯è¿›è¡Œçš„é™æ€è°ƒç”¨ã€‚
         * */
        public static final int getLength_impl(String $this) {
            return $this.length();
        }

        public static final void yourLength_impl(String $this) {
            String var1 = "yourLength -> password-value-length:" + getLength-impl($this);
            System.out.println(var1);
        }

        public static final dataclass.Password box_impl(String v) {
            Intrinsics.checkNotNullParameter(v, "v");
            return new dataclass.Password(v);
        }

        public static String toString_impl(String var0) {
            return "Password(value=" + var0 + ")";
        }

        public static int hashCode_impl(String var0) {
            return var0 != null ? var0.hashCode() : 0;
        }

        public static boolean equals_impl(String var0, Object var1) {
            if (var1 instanceof dataclass.Password) {
                String var2 = ((dataclass.Password)var1).unbox-impl();
                if (Intrinsics.areEqual(var0, var2)) {
                    return true;
                }
            }

            return false;
        }

        public static final boolean equals_impl0(String p1, String p2) {
            return Intrinsics.areEqual(p1, p2);
        }

        
        public final String unbox_impl() {
            return this.value;
        }

        public static final dataclass.Password box_impl(String v) {
            Intrinsics.checkNotNullParameter(v, "v");
            return new dataclass.Password(v);
        }

        /**
         * 3ã€toStringã€hashCodeã€equalsä¹Ÿæ˜¯è¿è¡Œæ—¶é™æ€è°ƒç”¨
         * */
        public String toString() {
            return toString-impl(this.value);
        }

        public int hashCode() {
            return hashCode-impl(this.value);
        }

        public boolean equals(Object var1) {
            return equals-impl(this.value, var1);
        }
    }
}
```

å°ç»“ä¸€ä¸‹

ï¼ˆ1ï¼‰ä¸»æ„é€ å™¨åªèƒ½æœ‰ä¸€ä¸ªå‚æ•°ï¼Œä¸å­˜åœ¨å†…è”ç±»çš„å¯¹è±¡

çœ‹ç¼–è¯‘åçš„ä»£ç è°ƒç”¨ï¼Œå‹æ ¹éƒ½æœªç”Ÿæˆå†…è”ç±»å¯¹è±¡

ï¼ˆ2ï¼‰å†…è”ç±»ä¸èƒ½å«æœ‰ init ä»£ç å—

å†™äº†ä¹Ÿæ²¡å•¥ç”¨ï¼Œç”Ÿæˆç±»æœªå¯¹è¿™å¿«ä»£ç è¿›è¡Œç”Ÿæˆå¤„ç†

ï¼ˆ3ï¼‰åŒ…è£…ç±»å‹

åœ¨ç”Ÿæˆçš„ä»£ç ä¸­ï¼ŒKotlin ç¼–è¯‘å™¨ä¸ºæ¯ä¸ªå†…è”ç±»ä¿ç•™ä¸€ä¸ªåŒ…è£…å™¨ã€‚å†…è”ç±»çš„å®ä¾‹å¯ä»¥åœ¨è¿è¡Œæ—¶è¡¨ç¤ºä¸ºåŒ…è£…å™¨æˆ–è€…åŸºç¡€ç±»å‹ã€‚è¿™å°±ç±»ä¼¼äº Int å¯ä»¥è¡¨ç¤ºä¸ºåŸç”Ÿç±»å‹
int æˆ–è€…åŒ…è£…å™¨ Integerã€‚

ä¸ºäº†ç”Ÿæˆæ€§èƒ½æœ€ä¼˜çš„ä»£ç ï¼ŒKotlin ç¼–è¯‘æ›´å€¾å‘äºä½¿ç”¨åŸºç¡€ç±»å‹è€Œä¸æ˜¯åŒ…è£…å™¨ã€‚ ç„¶è€Œï¼Œæœ‰æ—¶å€™ä½¿ç”¨åŒ…è£…å™¨æ˜¯å¿…è¦çš„ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåªè¦å°†å†…è”ç±»ç”¨ä½œå¦ä¸€ç§ç±»å‹ï¼Œ
å®ƒä»¬å°±ä¼šè¢«è£…ç®±ã€‚

###### 3ã€å®ç°æ¥å£

å†…è”ç±»å…è®¸å»å®ç°æ¥å£ï¼Œä½†å®ç°çš„æ–¹æ³•ä½¿ç”¨æ—¶ä¹Ÿæ˜¯é™æ€è°ƒç”¨ã€‚


