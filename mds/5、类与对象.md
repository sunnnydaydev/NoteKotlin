# ç±»ä¸å¯¹è±¡

###### 1ã€ç±»

kotlin çš„ç±»å£°æ˜ä¸javaä¸€æ¨¡ä¸€æ ·ï¼š class+ç±»å+{} å³å¯ååˆ†ç®€å•ï¼Œæ —å­å¦‚ä¸‹

```kotlin
class ClassName{
    // class body
}
```

###### 2ã€ä¸»æ„é€ å‡½æ•°

ä¸åŒäºjavaï¼Œkotlinä¸­çš„æ„é€ å‡½æ•°åˆ†ä¸ºä¸¤ç§ï¼šä¸»æ„é€ å‡½æ•°æ¬¡æ„é€ å‡½æ•°ã€‚

- åœ¨Kotlinä¸­çš„ä¸€ä¸ªç±»å¯ä»¥æœ‰ä¸€ä¸ªä¸»æ„é€ å‡½æ•°ä»¥åŠä¸€ä¸ªæˆ–å¤šä¸ªæ¬¡æ„é€ å‡½æ•°ã€‚
- ä¸»æ„é€ å‡½æ•°æ˜¯ç±»å¤´çš„ä¸€éƒ¨åˆ†ã€‚ä½¿ç”¨constructor+()å°±å¯å®šä¹‰ä¸»æ„é€ å‡½æ•°ã€‚

```kotlin
class User constructor(name: String) {
    var mName: String = "Kate"
    init {
        mName = name
    }
}
```
å¦‚æœä¸»æ„é€ å‡½æ•°æ²¡æœ‰ä»»ä½•æ³¨è§£æˆ–è€…å¯è§æ€§ä¿®é¥°ç¬¦ï¼Œå¯ä»¥çœç•¥è¿™ä¸ªconstructorå…³é”®å­—ï¼š

```kotlin
class User (name: String) {
    var mName: String = "Kate"
    init {
        mName = name
    }
}
```

å¦‚æœæ„é€ å‡½æ•°æœ‰æ³¨è§£æˆ–å¯è§æ€§ä¿®é¥°ç¬¦ï¼Œè¿™ä¸ª constructor å…³é”®å­—æ˜¯å¿…éœ€çš„ï¼Œå¹¶ä¸”è¿™äº›ä¿®é¥°ç¬¦åœ¨å®ƒå‰é¢ï¼š

```kotlin
class User public @Inject (name:String) {
    var mName: String = "Kate"
    init {
        mName = name
    }
}
```

ä¸åƒjavaï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨ä¸»æ„é€ å‡½æ•°ä¸­è¿›è¡Œä»£ç ç¼–å†™å®Œæˆç›¸å…³æ•°æ®æ“ä½œã€‚javaçš„æ„é€ å‡½æ•°çš„è®¾è®¡å°±æ˜¯è·å¾—å¯¹è±¡åŒæ—¶å®Œæˆæˆå‘˜çš„åˆå§‹åŒ–å·¥ä½œï¼ŒåŒæ—¶æ„é€ ä¸­å¯ä»¥ç¼–å†™ä»£ç ã€‚è€Œkotlinçš„ä¸»æ„é€ å™¨æ— è¿™ä¸ªåŠŸèƒ½ã€‚æƒ³è¦å®Œæˆå‚æ•°çš„åˆå§‹åŒ–ï¼Œå¯ä»¥åœ¨initå—ä¸­è¿›è¡Œã€‚

```kotlin
class Hello (name: String) {
    // é€šè¿‡initå—è¿›è¡Œæ„é€ å‡½æ•°å‚æ•°ä½¿ç”¨
    init {
        println("name = $name")
    }
}
æ­¤æ—¶ç›¸å½“äºjavaçš„
class Hello{
    public Hello(String name){
        System.out.println(neme)
    }
}
```

æ³¨æ„ä¸‹ä¸Šè¿°æ‰€æœ‰çš„ä¸»æ„é€ å‡½æ•°æ —å­ï¼Œæˆ‘ä»¬ä¼šå‘ç°å®šä¹‰çš„å‚æ•°ä½¿ç”¨æœ‰é™åˆ¶çš„ï¼Œå…¶å®è¿™ç§å®šä¹‰æ–¹å¼æˆ‘ä»¬å¯ä»¥è®¤ä¸ºä»…ä»…å®šä¹‰äº†ä¸€ä¸ªæ™®é€šçš„Personå‡½æ•°çš„å‚æ•°ã€‚åªæ˜¯ä½œç”¨åŸŸèŒƒå›´ç¨å¾®å¤§ç‚¹ï¼Œä¹Ÿå°±å¤§é‚£ä¹ˆä¸€ç‚¹ï¼Œï¼Œï¼Œï¼Œï¼Œ

```kotlin
class Person(name:String){
    private var mName = name// 1ã€è¿™é‡Œå¯ä»¥ä½¿ç”¨name
    init {
        mName = name // 2ã€è¿™é‡Œå¯ä»¥ä½¿ç”¨name
    }
    fun test(){
        // 2ã€è¿™é‡Œæ— æ³•ä½¿ç”¨nameã€‚
    }
}
```

æ³¨æ„ï¼šåˆå§‹åŒ–å—çš„ä»£ç å®é™…ä¸Šæ˜¯ä¸»æ„é€ å™¨çš„ä¸€éƒ¨åˆ†ï¼Œä»–ä¼šä½œä¸ºæ¬¡æ„é€ å‡½æ•°çš„ç¬¬ä¸€æ¡è¯­å¥æ‰§è¡Œã€‚å› æ­¤æ‰€æœ‰åˆå§‹åŒ–å—çš„ä»£ç éƒ½ä¼šåœ¨æ¬¡æ„é€ ä¹‹å‰æ‰§è¡Œï¼Œå³ä½¿è¯¥ç±»æ²¡æœ‰ä¸»æ„é€ å‡½æ•°ï¼Œè¿™ç§å§”æ‰˜å…³ç³»ä¹Ÿä¼šéšå¼å‘ç”Ÿã€‚

è¦æƒ³å®šä¹‰æˆå‘˜å˜é‡è¯¥æ€æ ·å‘¢ï¼Ÿæœ‰ä¸¤ç§æ–¹å¼ï¼š

ï¼ˆ1ï¼‰éµå¾ªjavaå®šä¹‰é£æ ¼

```kotlin
class Person(name:String){
    private val mName = "" // å®šä¹‰æ—¶ï¼Œç›´æ¥åˆå§‹åŒ–
    private lateinit var mDesc:String //å®šä¹‰å»¶è¿Ÿåˆå§‹åŒ–
}
```

ï¼ˆ2ï¼‰kotliné£æ ¼å£°æ˜å±æ€§ä»¥åŠä»ä¸»æ„é€ å‡½æ•°åˆå§‹åŒ–å±æ€§

```kotlin
//å°±å¤šäº†ä¸ªvalå…³é”®å­—ï¼Œå½“ç”¨æˆ·ä½¿ç”¨è¿™ä¸ªç±»æ—¶éœ€è¦ä¼ é€’nameå‚æ•°ï¼Œkotlinä¼šä½¿ç”¨è¿™ä¸ªé»˜è®¤å‚æ•°å®Œæˆåˆå§‹åŒ–ã€‚
class Hello(val name: String, val age: Int)

// å½“ç„¶ï¼Œå®šä¹‰å±æ€§æ—¶ï¼Œç»™ä¸ªé»˜è®¤å€¼ä¹Ÿå¯ã€‚
class Hello1(val name: String="", val age: Int=0) 
```



###### 3ã€æ¬¡æ„é€ å‡½æ•°

æ¬¡æ„é€ å‡½æ•°å®šä¹‰åœ¨ç±»ä½“å†…ï¼ŒåŒæ ·ä¹Ÿæ˜¯ä½¿ç”¨constructorå…³é”®å­—ã€‚æ¬¡æ„é€ å‡½æ•°çœ‹ç€æ‰åƒjavaçš„æ„é€ å‡½æ•°:

```kotlin
/**
 * Created by sunnyDay on 2019/7/12 16:43
 */
open class User { // å¯ä»¥æ²¡æœ‰ä¸»æ„é€ 
    //æ¬¡æ„é€ 
    constructor(age: Int) {
        println(age)
    }
    // æ¬¡æ„é€ 
    constructor(age: Int, name: String) {
        println(name + age)
    }
}
```


å¦‚æœç±»æœ‰ä¸€ä¸ªä¸»æ„é€ å‡½æ•°ï¼Œæ¯ä¸ªæ¬¡æ„é€ å‡½æ•°éœ€è¦å§”æ‰˜ç»™ä¸»æ„é€ å‡½æ•°ï¼Œå¯ä»¥ç›´æ¥å§”æ‰˜æˆ–è€…é€šè¿‡åˆ«çš„æ¬¡æ„é€ å‡½æ•°é—´æ¥å§”æ‰˜ã€‚

```kotlin
class Hello(val name: String) {
     // æ¬¡æ„é€ å‡½æ•°ï¼Œéœ€è¦å§”æ‰˜ç»™ä¸»æ„é€ å‡½æ•°ã€‚
    constructor(parent: Parent): this("tom"){
        println("è¿™æ˜¯æ¬¡æ„é€ å‡½æ•°")
    }
}
```

å¦‚æœä¸€ä¸ªç±»æ²¡æœ‰å£°æ˜æ„é€ å‡½æ•°ï¼Œä»–ä¼šæœ‰ä¸ªé»˜è®¤publicç±»å‹æ— å‚æ•°çš„ä¸»æ„é€ ã€‚å½“ç„¶æˆ‘ä»¬å¦‚æœä¸æƒ³ä½¿ç”¨é»˜è®¤çš„è¿˜å¯ä»¥ç§æœ‰ã€‚

```kotlin

class Hello // ç³»ç»Ÿç”Ÿæˆ -> 

class Hello public constructor() 

```

åœ¨jvmä¸Šï¼Œå¦‚æœä¸»æ„é€ å™¨çš„æ‰€æœ‰å‚æ•°éƒ½æœ‰é»˜è®¤å€¼ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªé¢å¤–çš„æ— å‚æ„é€ å™¨ï¼Œå®ƒå°†ä½¿ç”¨é»˜è®¤å€¼ã€‚

```kotlin
// ç¼–è¯‘å™¨ä¼šå¸®ä½ ç”Ÿæˆä¸ªæ— å‚çš„æ„é€ å‡½æ•°
class Hello private constructor(val name: String = "sss")
```



###### 4ã€kotlinç±»å®ä¾‹åˆ›å»º

åˆ›å»ºå®ä¾‹æ—¶å°±åƒæ™®é€šçš„å‡½æ•°è°ƒç”¨ä¸€æ ·è°ƒç”¨æ„é€ å‡½æ•°å°±è¡Œäº†ï¼Œåªæ˜¯kotlinä¸­æ²¡æœ‰newå…³é”®å­—ã€‚

```kotlin
class Hello(val name: String = "sss")

fun main() {
    //åˆ›å»ºå¯¹è±¡ï¼Œå¹¶ç»™å¯¹è±¡çš„æˆå‘˜å±æ€§nameèµ‹å€¼ã€‚
    val a = hello("aa")
    println(a)
}
```

###### 5ã€ç»§æ‰¿

åœ¨ Kotlin ä¸­æ‰€æœ‰ç±»éƒ½æœ‰ä¸€ä¸ªå…±åŒçš„åŸºç±» Anyï¼Œè¿™å¯¹äºæ²¡æœ‰è¶…ç±»å‹å£°æ˜çš„ç±»æ˜¯é»˜è®¤è¶…ç±»ã€‚

Anyæœ‰ä¸‰ä¸ªæ–¹æ³•ï¼šequals()ã€ hashCode() ä¸ toString()ã€‚å› æ­¤ï¼Œä¸ºæ‰€æœ‰ Kotlin ç±»éƒ½å®šä¹‰äº†è¿™äº›æ–¹æ³•ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼ŒKotlin ç±»æ˜¯æœ€ç»ˆï¼ˆfinalï¼‰çš„ï¼šå®ƒä»¬ä¸èƒ½è¢«ç»§æ‰¿ã€‚ è¦ä½¿ä¸€ä¸ªç±»å¯ç»§æ‰¿ï¼Œè¯·ç”¨ open å…³é”®å­—æ ‡è®°å®ƒ

```kotlin
open class User(val userName:String)
class Person(name:String):User(name)
```
åœ¨kotlinä¸­ç»§æ‰¿ã€å®ç°éƒ½ä½¿ç”¨å†’å·ç¬¦å·å³å¯ï¼Œå¦‚ä¸Šç”±äºUserçš„ä¸»æ„é€ å‡½æ•°æœ‰å‚æ•°ï¼Œæ‰€ä»¥Personç±»ç»§æ‰¿ä»–æ—¶éœ€è¦ä¼ é€’ä¸€ä¸ªå‚æ•°ã€‚å½“ç„¶æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨é»˜è®¤å‚æ•°ï¼š

```kotlin
open class User(val userName:String="Tom")
class Person(name:String):User()
```
ç”±äºçˆ¶ç±»Userä¸»æ„é€ æœ‰é»˜è®¤å‚æ•°ï¼ŒPersonç±»åœ¨ç»§æ‰¿æ—¶å¯ä»¥ä¸ä¼ å‚æ•°(æ³¨æ„Userçš„æ‹¬å·ä¸å¯çœç•¥)

è¿™ä¸ªä¸éš¾ç†è§£ï¼Œçœ‹ä¸‹kotlinç¼–è¯‘æˆçš„javaä»£ç å°±ä¼šæ˜ç™½Userå®šä¹‰é»˜è®¤å‚æ•°å’Œä¸å®šä¹‰é»˜è®¤å‚æ•°æ—¶ç³»ç»Ÿç”Ÿæˆçš„æ„é€ ä¸åŒï¼Œå®šä¹‰äº†é»˜è®¤å‚æ•°javaä»£ç ç”Ÿæˆæ—¶æ‰ä¼šç”Ÿæˆä¸€ä¸ªæ— å‚æ„é€ ã€‚

kotlinä¸­æœ‰ä¸ªå¥½ç©çš„åœ°æ–¹ï¼Œå±æ€§ä¹Ÿèƒ½è¿›è¡Œé‡å†™ï¼š

```kotlin
open class User(open val userName:String)
class Person(val name:String):User(name){
    // é‡å†™çˆ¶ç±»çš„userNameå­—æ®µ
    override val userName: String
        get() = name
}
```
å¯ä»¥ç”¨ä¸€ä¸ª var å±æ€§è¦†ç›–ä¸€ä¸ª val å±æ€§ï¼Œä½†åä¹‹åˆ™ä¸è¡Œã€‚ å› ä¸ºä¸€ä¸ª val å±æ€§æœ¬è´¨ä¸Šå£°æ˜äº†ä¸€ä¸ª get æ–¹æ³•ï¼Œ è€Œå°†å…¶è¦†ç›–ä¸º var åªæ˜¯åœ¨å­ç±»ä¸­é¢å¤–å£°æ˜ä¸€ä¸ª set æ–¹æ³•ã€‚

é€šå¸¸åœ¨æŠ½è±¡ç±»ä¸­ä½¿ç”¨çš„å¤šï¼Œæˆ‘ä»¬å®šä¹‰ä¸ªæŠ½è±¡å­—æ®µï¼Œè®©å­ç±»å®ç°ï¼Œè¿™æ ·æ¯”æŠ½è±¡æ–¹æ³•ä½œä¸ºè¿”å›å€¼æ–¹ä¾¿å¤šäº†ã€‚

###### 6ã€æˆå‘˜è¦†ç›–

Kotlin å¯¹äºå¯è¦†ç›–çš„æˆå‘˜éœ€è¦æ·»åŠ openå…³é”®å­—ï¼Œä»¥åŠè¦†ç›–åçš„æˆå‘˜éœ€è¦æ˜¾å¼ä½¿ç”¨overrideä¿®é¥°ç¬¦

```kotlin
open class Animal {
    //2ã€è¢«è¦†ç›–çš„æˆå‘˜éœ€è¦æ˜¾å¼åŠ openå…³é”®å­—ï¼Œå¦åˆ™æŠ¥é”™
    open fun run(){}
}

class Fish :Animal(){
    //1ã€è¦†ç›–çš„æ–¹æ³•éœ€è¦æ˜¾å¼åŠ override å…³é”®å­—ï¼Œå¦åˆ™ç¼–è¯‘æœŸé—´æŠ¥é”™ã€‚
    override fun run() {}
}
```

æ ‡è®°ä¸ºoverrideçš„æˆå‘˜æœ¬èº«å°±æ˜¯opençš„ï¼Œæˆ‘ä»¬åœ¨å…¶å­ç±»ä¸­ç›´æ¥è¦†ç›–ï¼Œå¦‚æœæƒ³ç¦æ­¢å­ç±»è¦†ç›–ï¼Œä½¿ç”¨ final å…³é”®å­—æ ‡æ³¨å³å¯ã€‚

```kotlin
class Fish :Animal(){
    override fun run() {}
}
//Sharkç±»å¯ç›´æ¥è¦†ç›–Fishç±»çš„runæ–¹æ³•
class Shark :Fish(){
    override fun run() {
    }
}
```

```kotlin
class Fish :Animal(){
   final override fun run() {}
}
//Sharkç±» ä¸å¯ ä¸å¯ ä¸å¯ è¦†ç›–Fishç±»çš„runæ–¹æ³•,Fishçš„run æ–¹æ³•å‘—finalæ ‡æ³¨
class Shark :Fish(){
    override fun run() {
    }
}
```

é’ˆå¯¹ä¸Šè¿°ç°è±¡å…¶å®å¾ˆå¥½ç†è§£ï¼Œkotlinä¸­é»˜è®¤çš„æ™®é€šç±»æ˜¯finalç±»ï¼Œæˆå‘˜ä¹Ÿæ˜¯finalçš„ã€‚è¿™ä¸ªåé¢æˆ‘ä»¬ä¼šäº†è§£åˆ°ã€‚æ¥ä¸‹æ¥çœ‹ä¸‹ä¸javaä¸åŒä¹‹å¤„å­—æ®µä¹Ÿèƒ½é‡å†™ğŸ¶

```kotlin
open class Animal {
    open val age  = 0
}

class Fish :Animal(){
     // å­ç±»æˆå‘˜é‡è½½æ—¶ä¿®é¥°ç¬¦å¯ä¸ºvar
     override val age = 20
}
```
å¯ä»¥çœ‹åˆ°å­—æ®µçš„é‡è½½ä¸æ–¹æ³•çš„é‡è½½è¯­æ³•è§„åˆ™å‡ ä¹ä¸€è‡´ï¼Œé™¤æ­¤ä¹‹å¤–kotlinæ”¯æŒvarè¦†ç›–valï¼Œåä¹‹ä¸è¡Œã€‚

é‚£ä¹ˆæˆå‘˜çš„é‡è½½å¥½å¤„åœ¨å“ªå‘¢ï¼Ÿæˆ‘è®¤ä¸ºæ¯”å¸¦è¿”å›å€¼çš„æ–¹æ³•çœ‹ç€æ›´ç®€æ´äº›ï¼Œçœ‹ä¸ªæ —å­ğŸŒ°

```kotlin
abstract class BaseActivity {
    fun onCreate() {
        setContentView(getLayoutId())
    }
    //1ã€ä½¿ç”¨æ–¹æ³•é‡è½½ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸ªå¸¦è¿”å›å€¼çš„æ–¹æ³•
    abstract fun getLayoutId(): Int

    private fun setContentView(resId: Int) {}
}

class MainActivity:BaseActivity(){
    //2ã€ä¸åŒçš„å­ç±»å®ç°æ–¹æ³•ï¼Œæä¾›è¿”å›å€¼
    override fun getLayoutId() = R.layout.layout_main_activity
}
```

ç„¶åæœ‰äº†å­—æ®µé‡è½½åæˆ‘ä»¬å¯ä»¥è¿™æ ·åš

```kotlin
abstract class BaseActivity {
    // 1ã€å®šä¹‰é‡è½½å˜é‡
   abstract val resId:Int
   
    fun onCreate() {
        setContentView(resId)
    }
    
    private fun setContentView(resId: Int) {}
}

class MainActivity:BaseActivity(){
    // å­ç±»ç›´æ¥é‡è½½å³å¯
    override val resId: Int = R.layout.layout_main_activity
}
```






