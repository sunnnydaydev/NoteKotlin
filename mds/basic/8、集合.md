# é›†åˆ

###### æ¦‚è¿°

kotlinçš„é›†åˆå’Œjavaçš„ç¨å¾®æœ‰äº›åŒºåˆ«ï¼Œjavaä¸­å£°æ˜ä¸€ä¸ªé›†åˆåè¾¹å¯è½»æ¾å®ç°å¢åˆ æ“ä½œï¼Œkotlinä¾¿ä¸æ˜¯è¿™æ ·ï¼Œkotlinä¸­åˆ†ä¸ºå¯å˜é›†åˆã€ä¸å¯å˜é›†åˆã€‚

kotlinä¸­ Listã€Setã€Mapæ¥å£éƒ½æ˜¯ä¸å¯å˜çš„è¿™æ„å‘³ç€æˆ‘ä»¬å¯¹é›†åˆåªæœ‰è¯»çš„æƒé™æ— å†™çš„æƒé™ï¼Œæƒ³è¦æœ‰å†™çš„æƒé™å°±è¦å£°æ˜æˆ–è½¬ä¸ºå¯å˜é›†åˆã€‚


Listã€Setã€Mapéƒ½ç±»ä¼¼ï¼Œè¿™é‡Œå°±ä»¥Listä¸¾ä¸ªä¾‹å­

```kotlin
fun main() {

    val list4 = listOf("1", "2") //listOfä¸ºä¸å¯å˜é›†åˆ
    val list1 = arrayListOf("1")  // ArrayListå¯å˜é›†åˆ

    val list2: List<String> = list1// è½¬ä¸ºListæ¥å£åä¸å¯å˜ã€‚list2 ä¸å…·æœ‰ add removeæ“ä½œ
    val list3: MutableList<String> = list2 as MutableList<String>// è½¬ä¸ºMutableListæ¥å£åå¯å˜
    
}
```

å¯è§æƒ³è¦è½¬æ¢åªéœ€è¦ä¾èµ–Listå’ŒMutableListæ¥å£å°±è¡Œå•¦ã€‚


###### åºåˆ—

å›é¡¾ä¸‹é›†åˆçš„mapæ“ä½œï¼Œå…¶å®mapæ˜¯Iterableçš„ä¸€ä¸ªæ‰©å±•å‡½æ•° ->

```kotlin
public inline fun <T, R> Iterable<T>.map(transform: (T) -> R): List<R> {
    return mapTo(ArrayList<R>(collectionSizeOrDefault(10)), transform)
}
```
åºåˆ—Sequence<T>æä¾›äº†ä¸Iterable<T>ç›¸åŒçš„å‡½æ•°ï¼Œä½†å®ç°å¦ä¸€ç§æ–¹æ³•æ¥è¿›è¡Œå¤šæ­¥éª¤é›†åˆå¤„ç†ã€‚


ï¼ˆ1ï¼‰åºåˆ—ä¸é›†åˆçš„åŒºåˆ«

é›†åˆæ‰§è¡Œä¸€äº›åˆ—æ“ä½œæ—¶ï¼šä¼šä¾æ¬¡æ‰§è¡Œæ¯ä¸ªæ­¥éª¤åŒæ—¶è·å–åˆ°æ­¥éª¤æ‰§è¡Œçš„ä¸­é—´ç»“æœé›†åˆï¼Œåœ¨æ­¤é›†åˆä¸Šç»§ç»­æ‰§è¡Œåç»­æ­¥éª¤ã€‚

åºåˆ—æ‰§è¡Œä¸€ç³»åˆ—æ“ä½œæ—¶ï¼šåºåˆ—ä¼šå¯¹æ¯ä¸€ä¸ªå…ƒç´ é€ä¸ªæ‰§è¡Œæ‰€æœ‰å¤„ç†æ­¥éª¤ã€‚

å¯è§åºåˆ—å¯é¿å…ç”Ÿæˆä¸­é—´æ­¥éª¤çš„ç»“æœï¼Œä»è€Œæé«˜äº†æ•´ä¸ªé›†åˆå¤„ç†é“¾çš„æ€§èƒ½ã€‚ ä½†æ˜¯ï¼Œåºåˆ—çš„å»¶è¿Ÿæ€§è´¨å¢åŠ äº†ä¸€äº›å¼€é”€ï¼Œè¿™äº›å¼€é”€åœ¨å¤„ç†è¾ƒå°çš„é›†åˆæˆ–è¿›è¡Œæ›´ç®€å•çš„è®¡ç®—æ—¶å¯èƒ½å¾ˆé‡è¦ã€‚ å› æ­¤ï¼Œåº”è¯¥åŒæ—¶è€ƒè™‘ä½¿ç”¨ Sequence ä¸ Iterableï¼Œå¹¶ç¡®å®šåœ¨å“ªç§æƒ…å†µæ›´é€‚åˆã€‚

ï¼ˆ2ï¼‰æ —å­ ğŸŒ°

å‡å®šæœ‰ä¸€ä¸ªå•è¯åˆ—è¡¨ã€‚è¦æ±‚è¿‡æ»¤é•¿åº¦å¤§äº3ä¸ªå­—ç¬¦çš„å•è¯ï¼Œå¹¶æ‰“å°å‰å››ä¸ªå•è¯çš„é•¿åº¦ã€‚

ä½¿ç”¨é›†åˆæˆ‘ä»¬ä¼šè¿™æ ·åšï¼š

```kotlin
//1ã€å­—ç¬¦ä¸²è½¬list
val words = "The quick brown fox jumps over the lazy dog".split(" ")

//2ã€åºåˆ—æ“ä½œä¾æ¬¡æ‰§è¡Œ
val lengthsList = words.filter {
    it.length > 3 // é•¿åº¦å¤§äº3çš„ç­›é€‰å‡ºæ¥ï¼Œç»“æœæ˜¯ä¸€ä¸ªå­é›†åˆã€‚
}
    .map {
        it.length // string é›†åˆè½¬ä¸º inté›†åˆ
    }
    .take(4) //å–inté›†åˆå…ƒç´ å‰4ä¸ª
println("Lengths of first 4 words longer than 3 chars:")
println(lengthsList)
```

![åºåˆ—](https://gitee.com/sunnnydaydev/my-pictures/raw/master/github/kt/Iterable.png)

ä½¿ç”¨åºåˆ—æˆ‘ä»¬ä¼šè¿™æ ·åšï¼š

```kotlin
// 1ã€å­—ç¬¦ä¸²è½¬é›†åˆ
val words = "The quick brown fox jumps over the lazy dog".split(" ")
// 2ã€é›†åˆè½¬æ¢ä¸ºåºåˆ—
val wordsSequence = words.asSequence()

// 3ã€åŒæ ·çš„æ“ä½œï¼Œä¸è¿‡æ¯ä¸ªå…ƒç´ ä¾æ¬¡æ‰§è¡Œä¸‹åˆ—æ“ä½œã€‚
val lengthsSequence = wordsSequence.filter {
     it.length > 3 
}
    .map { 
        it.length 
    }
    .take(4)

println("Lengths of first 4 words longer than 3 chars")
// æœ«ç«¯æ“ä½œï¼šä»¥é›†åˆå½¢å¼è·å–ç»“æœã€‚
println(lengthsSequence.toList())
```

![åºåˆ—](https://gitee.com/sunnnydaydev/my-pictures/raw/master/github/kt/Sequence.png)

###### åºåˆ—ä¸å¼‚æ­¥æµåŒºåˆ«

åºåˆ—æ˜¯åŒæ­¥è®¡ç®—ï¼Œå¼‚æ­¥æµï¼ˆFlowï¼‰æ˜¯å¼‚æ­¥è®¡ç®—ã€‚




